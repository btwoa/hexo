<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><title>未适配主题部署友链朋友圈 | Fcircle | Blog | btwoa</title><meta name=description content="未适配主题部署友链朋友圈 | Fcircle | btwoa"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://ovo.btwoa.com/favicon/hexo/favicon.png><link rel=stylesheet href=/css/apollo.css><link rel=search type=application/opensearchdescription+xml href=https://blog.btwoa.com/atom.xml title="Blog | btwoa"><script integrity=sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq src=//instant.page/5.1.1 type=module></script><!-- hexo injector head_end start --><link rel=manifest href=/manifest.json><!-- hexo injector head_end end --><meta name=generator content="Hexo 6.2.0"><link rel=alternate href=/atom.xml title="Blog | btwoa" type=application/atom+xml><link rel=alternate href=/rss.xml title="Blog | btwoa" type=application/rss+xml></head><body><div class=container data-bs-spy=scroll data-bs-target=#toc-nav data-bs-offset=0></div><div class=wrap><header><a class=logo-link href=/ ><img src=https://ovo.btwoa.com/blog.webp alt=logo></a><ul class="nav nav-list"><li class=nav-list-item><a class=nav-list-link href=https://btwoa.com target=_blank>主页</a></li><li class=nav-list-item><a class=nav-list-link href=/talk/ target=_self>说说</a></li><li class=nav-list-item><a class=nav-list-link href=/circle/ target=_self>小圈</a></li><li class=nav-list-item><a class=nav-list-link href=/link/ target=_self>友链</a></li><li class=nav-list-item><a class=nav-list-link href=/archives/ target=_self>归档</a></li><li class=nav-list-item><a class=nav-list-link href=https://monitor.btwoa.com target=_blank>监测</a></li></ul></header><main class=container><article class=post-block><h1 class=post-title>未适配主题部署友链朋友圈 | Fcircle</h1><div class=post-info>2022年10月11日<div class=post-tags><a class=post-tag-link href=/tags/Fcircle/ rel=tag># Fcircle</a></div></div><div class=post-toc><h3 class=post-toc-title>未适配主题部署友链朋友圈 | Fcircle</h3><nav class=navbar id=toc-nav><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#Fcircle%E7%AE%80%E4%BB%8B><span class=nav-text>Fcircle简介</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#MongoDB%E9%83%A8%E5%88%86><span class=nav-text>MongoDB部分</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#Vercel%E9%83%A8%E5%88%86><span class=nav-text>Vercel部分</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#Github%E9%83%A8%E5%88%86><span class=nav-text>Github部分</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%B5%8B%E8%AF%95%E5%8F%8B%E9%93%BE%E6%8E%A5%E5%8F%A3><span class=nav-text>测试友链接口</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E5%8F%8B%E5%9C%88%E9%A1%B5><span class=nav-text>创建友圈页</span></a></li></ol></nav></div><div class=post-content><p>友圈项目这么实用，当然要加入了。未适配主题通过JSON字符串接入，后端采用MongoDB+Vercel+Github，这样的缺点是访问速度略慢，不过我完全能接受</p><span id=more></span><h2 id=Fcircle简介><a href=#Fcircle简介 class=headerlink title=Fcircle简介></a>Fcircle简介</h2><p>快速获取友链网站的更新内容，了解友链的活跃情况，随时随地一键串门</p><p><a target=_blank rel=noopener href=https://fcircle-doc.js.co/ >友链朋友圈官方文档</a></p><h2 id=MongoDB部分><a href=#MongoDB部分 class=headerlink title=MongoDB部分></a>MongoDB部分</h2><p>创建免费数据库并获取MongoDB Url</p><p>此部分可参考 <a href=https://blog.btwoa.com/2qe37d61/#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93>创建数据库并获取MongoDB Url</a></p><p><img src=https://ovo.btwoa.com/img/webp/202210111548253.webp></p><p><img src=https://ovo.btwoa.com/img/webp/202210111556436.webp></p><h2 id=Vercel部分><a href=#Vercel部分 class=headerlink title=Vercel部分></a>Vercel部分</h2><p><a target=_blank rel=noopener href=https://vercel.com/account/tokens>创建Vercel Account Token</a></p><p><img src=https://ovo.btwoa.com/img/webp/202210081349392.webp></p><p><img src=https://ovo.btwoa.com/img/webp/202210111620070.webp></p><p>点击按钮一键部署</p><p><a target=_blank rel=noopener href="https://vercel.com/new/clone?repository-url=https://vercel.com/new/clone?repository-url=https://github.com/Rock-Candy-Tea/hexo-circle-of-friends"><img src=https://vercel.com/button alt="部署到 Vercel"></a></p><p>绑定自定义域名</p><p><img src=https://ovo.btwoa.com/img/webp/202210111624940.webp></p><p>配置环境变量</p><div style=overflow:auto><table style="white-space: nowrap"><thead><tr><th>变量名</th><th>变量值</th></tr></thead><tbody><tr><td>GH_NAME</td><td>Github用户名</td></tr><tr><td>GH_EMAIL</td><td>Github注册邮箱</td></tr><tr><td>GH_TOKEN</td><td>Github Access Token</td></tr><tr><td>VERCEL_ACCESS_TOKEN</td><td>Vercel Account Token</td></tr><tr><td>STORAGE_TYPE</td><td>mongodb</td></tr><tr><td>MONGODB_URI</td><td>mongodb+srv://……</td></tr></tbody></table></div><p><img src=https://ovo.btwoa.com/img/webp/202210111707914.webp></p><p>重新部署</p><p><img src=https://ovo.btwoa.com/img/webp/202210111710306.webp></p><h2 id=Github部分><a href=#Github部分 class=headerlink title=Github部分></a>Github部分</h2><p><a target=_blank rel=noopener href=https://github.com/settings/tokens>创建Github Access Token</a></p><p><img src=https://ovo.btwoa.com/img/webp/202210081342926.webp></p><p><img src=https://ovo.btwoa.com/img/webp/202210081348744.webp></p><p>访问权限设定为repo和workflow</p><p><img src=https://ovo.btwoa.com/img/webp/202210111611950.webp></p><p>配置环境变量</p><div style=overflow:auto><table style="white-space: nowrap"><thead><tr><th>变量名</th><th>变量值</th></tr></thead><tbody><tr><td>GH_NAME</td><td>Github用户名</td></tr><tr><td>GH_EMAIL</td><td>Github注册邮箱</td></tr><tr><td>GH_TOKEN</td><td>Github Access Token</td></tr><tr><td>STORAGE_TYPE</td><td>mongodb</td></tr><tr><td>MONGODB_URI</td><td>mongodb+srv://……</td></tr></tbody></table></div><p><img src=https://ovo.btwoa.com/img/webp/202210111749936.webp></p><p>配置自己Fork友圈项目的fc_settings.yaml</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>路径：hexo-circle-of-friends/hexo_circle_of_friends/fc_settings.yaml</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br></pre></td><td class=code><pre><span class=line>	LINK:</span><br><span class=line>+		- &#123;link: &quot;https://blog.btwoa.com/link/&quot;, theme: &quot;apollo&quot;&#125; # 添加友链地址和主题，未适配的主题这部分意义不大</span><br><span class=line>-	    - &#123;link: &quot;https://www.yyyzyyyz.cn/link/&quot;, theme: &quot;butterfly&quot;&#125;  # 友链页地址1，修改为你的友链页地址</span><br><span class=line>-	#    - &#123;link: &quot;https://noionion.top/link/&quot;, theme: &quot;butterfly&quot;&#125; # 友链页地址2</span><br><span class=line>-	#    - &#123;link: &quot;https://immmmm.com/about/&quot;, theme: &quot;common1&quot;&#125; # 友链页地址3</span><br><span class=line>	</span><br><span class=line>	</span><br><span class=line>	# 配置项友链</span><br><span class=line>	# enable：# 是否启用配置项友链 true/false（针对还未适配主题或者有定制需求的用户）</span><br><span class=line>	# json_api：通过json格式配置友链，详见：https://fcircle-doc.js.cool/#/developmentdoc?id=配置项json友链</span><br><span class=line>	# list字段填写格式：[&quot;name&quot;, &quot;link&quot;, &quot;avatar&quot;,&quot;suffix&quot;]，其中：</span><br><span class=line>	#       name：必填，友链的名字</span><br><span class=line>	#       link：必填，友链主页地址</span><br><span class=line>	#       avatar：必填，头像地址</span><br><span class=line>	#       suffix：选填，自定义订阅后缀，主要针对不规范的网站订阅后缀，见示例2</span><br><span class=line>	SETTINGS_FRIENDS_LINKS: &#123;</span><br><span class=line>+       enable: true,</span><br><span class=line>-	    enable: false,</span><br><span class=line>+       json_api: &quot;https://blog.btwoa.com/friends.json&quot;, # friends.json和list二选一就行</span><br><span class=line>-	    json_api: &quot;&quot;,</span><br><span class=line>	    list: [</span><br><span class=line>-	        # 示例1：</span><br><span class=line>-	        [&quot;贰猹の小窝&quot;, &quot;https://noionion.top/&quot;, &quot;https://pub-noionion.oss-cn-hangzhou.aliyuncs.com/head.jpg&quot;],</span><br><span class=line>-	        [&quot;Akilarの糖果屋&quot;, &quot;https://akilar.top/&quot;, &quot;https://akilar.top/images/headimage.png&quot;],</span><br><span class=line>-	        # 示例2：使用suffix的配置如下</span><br><span class=line>-	        # 程序目前自动获取 &quot;atom.xml&quot;, &quot;feed/atom&quot;, &quot;rss.xml&quot;, &quot;rss2.xml&quot;, &quot;feed&quot;, &quot;index.xml&quot; 这些后缀</span><br><span class=line>-	        # 如果目标地址的后缀不在其中，就可以在这里添加</span><br><span class=line>-	        # 比如 https://elizen.me/hello.xml ，填写：</span><br><span class=line>-	        [&quot;elizen&quot;, &quot;https://elizen.me/&quot;, &quot;https://akilar.top/images/headimage.png&quot;, &quot;hello.xml&quot;]</span><br><span class=line>	    ]</span><br><span class=line>	&#125;</span><br><span class=line>	</span><br><span class=line>	# get links from gitee</span><br><span class=line>	# 从gitee issue中获取友链</span><br><span class=line>	GITEE_FRIENDS_LINKS: &#123;</span><br><span class=line>	    enable: false, # true 开启gitee issue兼容</span><br><span class=line>	    type: &quot;normal&quot;,  # volantis/stellar用户请在这里填写volantis</span><br><span class=line>	    owner:  &quot;ccknbc&quot;,  # 填写你的gitee用户名</span><br><span class=line>	    repo:  &quot;blogroll&quot;,  # 填写你的gitee仓库名</span><br><span class=line>	    state:  &quot;open&quot;,  # 填写抓取的issue状态(open/closed)</span><br><span class=line>	&#125;</span><br><span class=line>	</span><br><span class=line>	# get links from github</span><br><span class=line>	# 从github issue中获取友链</span><br><span class=line>	GITHUB_FRIENDS_LINKS: &#123;</span><br><span class=line>	    enable: false, # true 开启github issue兼容</span><br><span class=line>	    type: &quot;normal&quot;,  # volantis/stellar用户请在这里填写volantis</span><br><span class=line>	    owner: &quot;ccknbc&quot;,  # 填写你的github用户名</span><br><span class=line>	    repo: &quot;ccknbc-actions&quot;,  # 填写你的github仓库名</span><br><span class=line>	    state: &quot;open&quot;,  # 填写抓取的issue状态(open/closed)</span><br><span class=line>	&#125;</span><br><span class=line>	</span><br><span class=line>	# block site list</span><br><span class=line>	# 添加屏蔽站点，支持正则表达式</span><br><span class=line>	BLOCK_SITE: [</span><br><span class=line>	#    https://example.com/, # 屏蔽 https://example.com/</span><br><span class=line>	#    .*\.com,  # 含有.com的全部屏蔽</span><br><span class=line>	#    ^http://,  # http开头的全部屏蔽</span><br><span class=line>	]</span><br><span class=line>	</span><br><span class=line>	</span><br><span class=line>	# 启用HTTP代理，此项设为true，并且需要添加一个环境变量，名称为PROXY，值为[IP]:[端口]，比如：192.168.1.106:8080</span><br><span class=line>	HTTP_PROXY: false</span><br><span class=line>	</span><br><span class=line>	# 过期文章清除（天）</span><br><span class=line>	OUTDATE_CLEAN: 60</span><br><span class=line>	</span><br><span class=line>	# 5.x以后默认为sqlite，同时不建议使用leancloud</span><br><span class=line>	# 存储方式，可选项：leancloud，mysql，sqlite，mongodb；默认为sqlite</span><br><span class=line>+   DATABASE: &quot;mongodb&quot;	</span><br><span class=line>-	DATABASE: &quot;sqlite&quot;</span><br><span class=line>	</span><br><span class=line>	# 部署方式，可选项：github，server，docker；默认为github</span><br><span class=line>	DEPLOY_TYPE: &quot;github&quot;</span><br></pre></td></tr></table></figure><p>点击Actions启用工作流</p><p>点击Run workflow</p><p><img src=https://ovo.btwoa.com/img/webp/202210111724843.webp></p><p><img src=https://ovo.btwoa.com/img/webp/202210111725765.webp></p><h2 id=测试友链接口><a href=#测试友链接口 class=headerlink title=测试友链接口></a>测试友链接口</h2><p>自定义域名后加&#x2F;friend</p><p>查看爬取的友链</p><p><img src=https://ovo.btwoa.com/img/webp/202210111736501.webp></p><h2 id=创建友圈页><a href=#创建友圈页 class=headerlink title=创建友圈页></a>创建友圈页</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo new page fcircle</span><br></pre></td></tr></table></figure><p>编辑index.md</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre></td><td class=code><pre><span class=line>---</span><br><span class=line>title: 友圈</span><br><span class=line>layout: fcircle</span><br><span class=line>---</span><br><span class=line></span><br><span class=line>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class=line>&lt;script&gt;</span><br><span class=line>    let UserConfig = &#123;</span><br><span class=line>        private_api_url: &#x27;https://fcircle.xxxxxx.com/&#x27;,   // 填写你的友圈api（自定义域名）</span><br><span class=line>        page_turning_number: 15,</span><br><span class=line>        error_img: &#x27;https://sdn.geekzu.org/avatar/57d8260dfb55501c37dde588e7c3852c&#x27;,</span><br><span class=line>        sort_rule: &#x27;created&#x27;</span><br><span class=line>    &#125;</span><br><span class=line>&lt;/script&gt;</span><br><span class=line>&lt;script type=&quot;text/javascript&quot; src=&quot;https://unpkg.com/browse/imgscdn@1.1.33/fcircle/app.min.js&quot;&gt;&lt;/script&gt;</span><br><span class=line>&lt;script type=&quot;text/javascript&quot; src=&quot;https://unpkg.com/browse/imgscdn@1.1.33/fcircle/bundle.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><a href=https://blog.btwoa.com/circle>这是我的友圈页</a></p><p>在此感谢友圈项目的所有开发者</p><div style=overflow:auto><table style="white-space: nowrap"><thead><tr><th>名称</th><th>主页</th><th>说明</th></tr></thead><tbody><tr><td>冰老师</td><td><a href=https://zfe.space target=_blank rel=noopener>https://zfe.space</a></td><td>友链朋友圈理念奠基人，初代前后端方案编写者，冰老师YYDS！</td></tr><tr><td>Akilar</td><td><a href=https://akilar.top target=_blank rel=noopener>https://akilar.top</a></td><td>为历代友链朋友圈提供前端方案，npm插件方案编写者</td></tr><tr><td>heo</td><td><a href=https://blog.zhheo.com target=_blank rel=noopener>https://blog.zhheo.com</a></td><td>友链朋友圈前端方案、视觉设计，UI 方案多样化，管理面板logo设计</td></tr><tr><td>贰猹</td><td><a href=https://noionion.top target=_blank rel=noopener>https://noionion.top</a></td><td>历代友链朋友圈后端维护者，3.0方案编写者，多主题友链抓取适配，朋友圈售后中流砥柱，公共库方案、api编写者</td></tr><tr><td>RaXianch</td><td><a href=https://blog.raxianch.moe target=_blank rel=noopener>https://blog.raxianch.moe</a></td><td>友链朋友圈后端维护，多主题友链抓取适配</td></tr><tr><td>yyyz</td><td><a href=https://www.yyyzyyyz.cn target=_blank rel=noopener>https://www.yyyzyyyz.cn</a></td><td>4.x方案编写者，5.x前后端编写者，多主题友链抓取适配，服务器部署方案编写者，友链朋友圈现维护者</td></tr><tr><td>林木木</td><td><a href=https://immmmm.com target=_blank rel=noopener>https://immmmm.com</a></td><td>新版友链朋友圈前端方案编写者</td></tr><tr><td>Fox</td><td><a href=https://foolishfox.cn target=_blank rel=noopener>https://foolishfox.cn</a></td><td>提供sql api与sql存储本地化方案</td></tr></tbody></table></div><link rel=stylesheet href=/css/spoiler.css type=text/css><script src=/js/spoiler.js type=text/javascript async></script></div></article></main><footer><div class=paginator><a class=next href=/2qe37d61/ >NEXT</a></div><div id=tcomment></div><script src=/js/twikoo.all.min.js></script><script>twikoo.init({envId:"https://twikoo.btwoa.com/",el:"#tcomment",path:"window.location.pathname",lang:"zh-CN"})</script><div class=copyright><p>Copyright Ⓒ 2019-2022 <a href=https://beian.miit.gov.cn/ target=_blank>陇ICP备20001210号</a></p></div></footer></div><script>!function(e,a,t,g,n,o){e.GoogleAnalyticsObject=g,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,n=a.createElement(t),o=a.getElementsByTagName(t)[0],n.src="/js/google-analytics.js",o.parentNode.insertBefore(n,o)}(window,document,"script","ga"),ga("create","UA-235222810-1","auto"),ga("send","pageview")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?01b308cf7144f10b91966ae6f284d4cb",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>!function(t){"use strict";function s(){e.LA.ids.push(i)}var e=window,c=document,i=t,o="".concat("https:"===c.location.protocol?"https://":"http://","sdk.51.la/js-sdk-pro.min.js"),n=c.createElement("script"),c=c.getElementsByTagName("script")[0];n.type="text/javascript",n.setAttribute("charset","UTF-8"),n.async=!0,n.src=o,n.id="LA_COLLECT",i.d=n,e.LA?e.LA.ids&&s():(e.LA=t,e.LA.ids=[],s()),c.parentNode.insertBefore(n,c)}({id:"JoXIxCzhNG7DwlUJ",ck:"JoXIxCzhNG7DwlUJ"})</script><script>!function(e,n){var t=n.createElement("script"),n=n.getElementsByTagName("script")[0];t.type="text/javascript",t.crossorigin=!0,t.onload=function(){(new e.LingQue.Monitor).init({id:"JoewdpDnTBrOF23U",sendSuspicious:!0,sendSpaPv:!0})},n.parentNode.insertBefore(t,n),t.src="https://sdk.51.la/perf/js-sdk-perf.min.js"}(window,document)</script><script defer=defer src=/js/bootstrap.min.js type=text/javascript></script><script defer=defer src=/js/console.js type=text/javascript></script><!-- hexo injector body_end start --><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")})</script><!-- hexo injector body_end end --></body></html>