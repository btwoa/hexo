<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><title>展示文章标签 | 添加文章侧边栏目录 | Apollo | Blog | btwoa</title><meta name=description content="展示文章标签 | 添加文章侧边栏目录 | Apollo | btwoa"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://ovo.btwoa.com/favicon/hexo/favicon.png><link rel=stylesheet href=/css/apollo.css><link rel=search type=application/opensearchdescription+xml href=https://blog.btwoa.com/atom.xml title="Blog | btwoa"><script integrity=sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq src=//instant.page/5.1.1 type=module></script><!-- hexo injector head_end start --><link rel=manifest href=/manifest.json><!-- hexo injector head_end end --><meta name=generator content="Hexo 6.2.0"><link rel=alternate href=/atom.xml title="Blog | btwoa" type=application/atom+xml><link rel=alternate href=/rss.xml title="Blog | btwoa" type=application/rss+xml></head><body><div class=container data-bs-spy=scroll data-bs-target=#toc-nav data-bs-offset=0></div><div class=wrap><header><a class=logo-link href=/ ><img src=https://ovo.btwoa.com/blog.webp alt=logo></a><ul class="nav nav-list"><li class=nav-list-item><a class=nav-list-link href=https://btwoa.com target=_blank>主页</a></li><li class=nav-list-item><a class=nav-list-link href=/talk/ target=_self>说说</a></li><li class=nav-list-item><a class=nav-list-link href=/circle/ target=_self>小圈</a></li><li class=nav-list-item><a class=nav-list-link href=/link/ target=_self>友链</a></li><li class=nav-list-item><a class=nav-list-link href=/archives/ target=_self>归档</a></li><li class=nav-list-item><a class=nav-list-link href=https://monitor.btwoa.com target=_blank>监测</a></li></ul></header><main class=container><article class=post-block><h1 class=post-title>展示文章标签 | 添加文章侧边栏目录 | Apollo</h1><div class=post-info>2022年7月28日<div class=post-tags><a class=post-tag-link href=/tags/Apollo/ rel=tag># Apollo</a></div></div><div class=post-toc><h3 class=post-toc-title>展示文章标签 | 添加文章侧边栏目录 | Apollo</h3><nav class=navbar id=toc-nav><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#Apollo%E4%B8%BB%E9%A2%98><span class=nav-text>Apollo主题</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%8A%A5%E9%94%99><span class=nav-text>报错</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%85%B3%E9%97%AD%E5%85%B6%E4%BB%96%E9%A1%B5%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4%E6%98%BE%E7%A4%BA><span class=nav-text>关闭其他页创建时间显示</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%96%87%E7%AB%A0%E9%A1%B5%E6%A0%87%E7%AD%BE%E5%B1%95%E7%A4%BA><span class=nav-text>文章页标签展示</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%96%87%E7%AB%A0%E9%A1%B5%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%9B%AE%E5%BD%95%E5%B1%95%E7%A4%BA><span class=nav-text>文章页侧边栏目录展示</span></a></li></ol></nav></div><div class=post-content><p>对极简主题的增强性优化</p><span id=more></span><h2 id=Apollo主题><a href=#Apollo主题 class=headerlink title=Apollo主题></a>Apollo主题</h2><p>将主题切换为apollo</p><p><strong>apollo主题已停更多年，jade已弃用，需全部替换为pug</strong><br><strong>选择其他主题可避免此类琐事</strong></p><h2 id=报错><a href=#报错 class=headerlink title=报错></a>报错</h2><p>本地测试报错</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>extends partial/layout block container include mixins/post +posts() block pagination include mixins/paginator +home() block copyright include partial/copyright</span><br></pre></td></tr></table></figure><p><a target=_blank rel=noopener href=https://github.com/hexojs/hexo/issues/2326>github issues</a></p><p>提示需要安装 hexo-renderer-jade ，个人不推荐</p><p>可安装 hexo-renderer-pug 并将所有 jade 转为 pug</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install hexo-renderer-pug --save</span><br></pre></td></tr></table></figure><h2 id=关闭其他页创建时间显示><a href=#关闭其他页创建时间显示 class=headerlink title=关闭其他页创建时间显示></a>关闭其他页创建时间显示</h2><p>themes&#x2F;apollo&#x2F;layout&#x2F;mixins&#x2F;<strong>post.pug</strong></p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line>    .post-info</span><br><span class=line>+       if (is_home() || is_post())    </span><br><span class=line>            != full_date(item.date, &#x27;ll&#x27;)</span><br><span class=line>			if item.from &amp;&amp; (is_home() || is_post())</span><br><span class=line>				a.post-from(href=item.from target=&quot;_blank&quot; title=item.from)!= __(&#x27;translated&#x27;)</span><br></pre></td></tr></table></figure><h2 id=文章页标签展示><a href=#文章页标签展示 class=headerlink title=文章页标签展示></a>文章页标签展示</h2><p>themes&#x2F;apollo&#x2F;layout&#x2F;mixins&#x2F;<strong>post.pug</strong></p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line>+        - var transform = function(str) &#123; return &#x27;# &#x27; + str; &#125;</span><br><span class=line>+        - var config = &#123;class: &#x27;post-tag&#x27;, show_count: false, style: false, separator: &#x27; &#x27;, transform: transform&#125;</span><br><span class=line>+        .post-tags</span><br><span class=line>+            if is_post()</span><br><span class=line>+                != list_tags(item.tags, config)</span><br></pre></td></tr></table></figure><h2 id=文章页侧边栏目录展示><a href=#文章页侧边栏目录展示 class=headerlink title=文章页侧边栏目录展示></a>文章页侧边栏目录展示</h2><p>themes&#x2F;apollo&#x2F;layout&#x2F;mixins&#x2F;<strong>post.pug</strong></p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>+    if is_post()</span><br><span class=line>+        .post-toc</span><br><span class=line>+                h3.post-toc-title</span><br><span class=line>+                    != item.title</span><br><span class=line>+                nav#toc-nav.navbar</span><br><span class=line>+                    != toc(item.content, &#123; list_number: false, class: &#x27;nav&#x27; &#125;)  </span><br></pre></td></tr></table></figure><p>themes&#x2F;apollo&#x2F;layout&#x2F;partia&#x2F;<strong>layout.pug</strong></p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>    body</span><br><span class=line>+       .container(data-bs-spy=&quot;scroll&quot; data-bs-target=&quot;#toc-nav&quot; data-bs-offset=0)</span><br><span class=line>        .wrap</span><br><span class=line></span><br><span class=line></span><br><span class=line>        include scripts</span><br><span class=line>+       script(src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js&quot;)</span><br></pre></td></tr></table></figure><p>参考：<a target=_blank rel=noopener href=https://blogs.nearsyh.me/2020/12/26/2020-12-26-Hexo-Theme-Tweaking/ >Hexo主题的折腾记录</a></p><link rel=stylesheet href=/css/spoiler.css type=text/css><script src=/js/spoiler.js type=text/javascript async></script></div></article></main><footer><div class=paginator><a class=prev href=/1fbd5fc1/ >PREV</a><a class=next href=/1f30b8ca/ >NEXT</a></div><div id=tcomment></div><script src=/js/twikoo.all.min.js></script><script>twikoo.init({envId:"https://twikoo.btwoa.com/",el:"#tcomment",path:"window.location.pathname",lang:"zh-CN"})</script><div class=copyright><p>Copyright Ⓒ 2019-2022 <a href=https://beian.miit.gov.cn/ target=_blank>陇ICP备20001210号</a></p></div></footer></div><script>!function(e,a,t,g,n,o){e.GoogleAnalyticsObject=g,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,n=a.createElement(t),o=a.getElementsByTagName(t)[0],n.src="/js/google-analytics.js",o.parentNode.insertBefore(n,o)}(window,document,"script","ga"),ga("create","UA-235222810-1","auto"),ga("send","pageview")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?01b308cf7144f10b91966ae6f284d4cb",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>!function(t){"use strict";function s(){e.LA.ids.push(i)}var e=window,c=document,i=t,o="".concat("https:"===c.location.protocol?"https://":"http://","sdk.51.la/js-sdk-pro.min.js"),n=c.createElement("script"),c=c.getElementsByTagName("script")[0];n.type="text/javascript",n.setAttribute("charset","UTF-8"),n.async=!0,n.src=o,n.id="LA_COLLECT",i.d=n,e.LA?e.LA.ids&&s():(e.LA=t,e.LA.ids=[],s()),c.parentNode.insertBefore(n,c)}({id:"JoXIxCzhNG7DwlUJ",ck:"JoXIxCzhNG7DwlUJ"})</script><script>!function(e,n){var t=n.createElement("script"),n=n.getElementsByTagName("script")[0];t.type="text/javascript",t.crossorigin=!0,t.onload=function(){(new e.LingQue.Monitor).init({id:"JoewdpDnTBrOF23U",sendSuspicious:!0,sendSpaPv:!0})},n.parentNode.insertBefore(t,n),t.src="https://sdk.51.la/perf/js-sdk-perf.min.js"}(window,document)</script><script defer=defer src=/js/bootstrap.min.js type=text/javascript></script><script defer=defer src=/js/console.js type=text/javascript></script><!-- hexo injector body_end start --><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")})</script><!-- hexo injector body_end end --></body></html>